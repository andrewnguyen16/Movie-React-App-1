{"ast":null,"code":"var _jsxFileName = \"F:\\\\react-rmdb-v3-starter-files-master\\\\4. Finished App\\\\Movie React App\\\\src\\\\components\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport API from \"../API\"; // Components\n\nimport Button from \"./Button\"; // Styles\n\nimport { Wrapper } from \"./Login.styles\"; // Context\n\nimport { Context } from \"../context\";\n\nconst Login = () => {\n  _s();\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(false);\n  const [_user, setUser] = useContext(Context);\n  const navigate = useNavigate();\n\n  const handleSubmit = async () => {\n    setError(false);\n\n    try {\n      const requestToken = await API.getRequestToken();\n      const sessionId = await API.authenticate(requestToken, username, password);\n      console.log(sessionId);\n      setUser({\n        sessionId: sessionId.session_id,\n        username\n      });\n      navigate(\"/\");\n    } catch (error) {\n      setError(true);\n    }\n  };\n\n  const handleInput = e => {\n    const name = e.currentTarget.name;\n    const value = e.currentTarget.value;\n    if (name === \"username\") setUsername(value);\n    if (name === \"password\") setPassword(value);\n  };\n\n  return /*#__PURE__*/React.createElement(Wrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 5\n    }\n  }, error && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }\n  }, \"You must login with \\\"themoviedb\\\" account !\"), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, \"Username:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    value: username,\n    name: \"username\",\n    onChange: handleInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"label\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }\n  }, \"Password:\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    value: password,\n    name: \"password\",\n    onChange: handleInput,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    text: \"Login\",\n    callback: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }\n  }));\n};\n\n_s(Login, \"6skM1IZMCjJvZmpQ1+6w8p4bzT0=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["F:/react-rmdb-v3-starter-files-master/4. Finished App/Movie React App/src/components/Login.js"],"names":["React","useState","useContext","useNavigate","API","Button","Wrapper","Context","Login","username","setUsername","password","setPassword","error","setError","_user","setUser","navigate","handleSubmit","requestToken","getRequestToken","sessionId","authenticate","console","log","session_id","handleInput","e","name","currentTarget","value"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,QAA4C,OAA5C;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,GAAP,MAAgB,QAAhB,C,CACA;;AACA,OAAOC,MAAP,MAAmB,UAAnB,C,CACA;;AACA,SAASC,OAAT,QAAwB,gBAAxB,C,CACA;;AACA,SAASC,OAAT,QAAwB,YAAxB;;AAEA,MAAMC,KAAK,GAAG,MAAM;AAAA;;AAClB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BT,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACU,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACY,KAAD,EAAQC,QAAR,IAAoBb,QAAQ,CAAC,KAAD,CAAlC;AAEA,QAAM,CAACc,KAAD,EAAQC,OAAR,IAAmBd,UAAU,CAACK,OAAD,CAAnC;AACA,QAAMU,QAAQ,GAAGd,WAAW,EAA5B;;AAEA,QAAMe,YAAY,GAAG,YAAY;AAC/BJ,IAAAA,QAAQ,CAAC,KAAD,CAAR;;AACA,QAAI;AACF,YAAMK,YAAY,GAAG,MAAMf,GAAG,CAACgB,eAAJ,EAA3B;AACA,YAAMC,SAAS,GAAG,MAAMjB,GAAG,CAACkB,YAAJ,CACtBH,YADsB,EAEtBV,QAFsB,EAGtBE,QAHsB,CAAxB;AAKAY,MAAAA,OAAO,CAACC,GAAR,CAAYH,SAAZ;AACAL,MAAAA,OAAO,CAAC;AAAEK,QAAAA,SAAS,EAAEA,SAAS,CAACI,UAAvB;AAAmChB,QAAAA;AAAnC,OAAD,CAAP;AAEAQ,MAAAA,QAAQ,CAAC,GAAD,CAAR;AACD,KAXD,CAWE,OAAOJ,KAAP,EAAc;AACdC,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD;AACF,GAhBD;;AAkBA,QAAMY,WAAW,GAAIC,CAAD,IAAO;AACzB,UAAMC,IAAI,GAAGD,CAAC,CAACE,aAAF,CAAgBD,IAA7B;AACA,UAAME,KAAK,GAAGH,CAAC,CAACE,aAAF,CAAgBC,KAA9B;AAEA,QAAIF,IAAI,KAAK,UAAb,EAAyBlB,WAAW,CAACoB,KAAD,CAAX;AACzB,QAAIF,IAAI,KAAK,UAAb,EAAyBhB,WAAW,CAACkB,KAAD,CAAX;AAC1B,GAND;;AAQA,sBACE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACGjB,KAAK,iBACJ;AAAK,IAAA,SAAS,EAAC,OAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oDAFJ,eAIE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJF,eAKE;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,KAAK,EAAEJ,QAFT;AAGE,IAAA,IAAI,EAAC,UAHP;AAIE,IAAA,QAAQ,EAAEiB,WAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IALF,eAWE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAXF,eAYE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,KAAK,EAAEf,QAFT;AAGE,IAAA,IAAI,EAAC,UAHP;AAIE,IAAA,QAAQ,EAAEe,WAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAZF,eAkBE,oBAAC,MAAD;AAAQ,IAAA,IAAI,EAAC,OAAb;AAAqB,IAAA,QAAQ,EAAER,YAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAlBF,CADF;AAsBD,CAxDD;;GAAMV,K;UAMaL,W;;;KANbK,K;AA0DN,eAAeA,KAAf","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport API from \"../API\";\n// Components\nimport Button from \"./Button\";\n// Styles\nimport { Wrapper } from \"./Login.styles\";\n// Context\nimport { Context } from \"../context\";\n\nconst Login = () => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [error, setError] = useState(false);\n\n  const [_user, setUser] = useContext(Context);\n  const navigate = useNavigate();\n\n  const handleSubmit = async () => {\n    setError(false);\n    try {\n      const requestToken = await API.getRequestToken();\n      const sessionId = await API.authenticate(\n        requestToken,\n        username,\n        password\n      );\n      console.log(sessionId);\n      setUser({ sessionId: sessionId.session_id, username });\n\n      navigate(\"/\");\n    } catch (error) {\n      setError(true);\n    }\n  };\n\n  const handleInput = (e) => {\n    const name = e.currentTarget.name;\n    const value = e.currentTarget.value;\n\n    if (name === \"username\") setUsername(value);\n    if (name === \"password\") setPassword(value);\n  };\n\n  return (\n    <Wrapper>\n      {error && (\n        <div className=\"error\">You must login with \"themoviedb\" account !</div>\n      )}\n      <label>Username:</label>\n      <input\n        type=\"text\"\n        value={username}\n        name=\"username\"\n        onChange={handleInput}\n      />\n      <label>Password:</label>\n      <input\n        type=\"password\"\n        value={password}\n        name=\"password\"\n        onChange={handleInput}\n      />\n      <Button text=\"Login\" callback={handleSubmit} />\n    </Wrapper>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}